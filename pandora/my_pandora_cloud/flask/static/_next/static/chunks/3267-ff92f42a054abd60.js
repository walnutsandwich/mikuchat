"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3267],{43267:function(e,n,r){r.r(n),r.d(n,{default:function(){return C}});var t=r(39324),i=r(4337),a=r(35250),s=r(6038),o=r(52696),l=r(80479),c=r(15329),u=r(1821),d=r(82277),f=r(13090),m=r(78931),g=r(16266),h=r(77311),x=r(19841),v=r(60554),p=r(70079),b=r(1454),k=r(32004),j=r(94968);function N(){var e=(0,i._)(["max-w-5xl mx-auto w-full"]);return N=function(){return e},e}function y(e){var n=e.route,r=e.children,t=(0,v.useRouter)();return(0,a.jsx)(c.ZB,{$as:"button",className:(0,x.default)("rounded",t.route!==n&&"hover:bg-token-surface-secondary dark:hover:bg-gray-800"),onClick:function(){t.push(n)},children:r})}function w(e){var n=e.workspaceName,r=e.hasAdminPrivileges,i=e.hasOwnerPrivileges,o=(0,v.useRouter)(),l=(0,p.useCallback)(function(){o.push("/")},[o]);return(0,a.jsxs)("nav",{className:"p-2",children:[(0,a.jsxs)("div",{className:"mb-1 flex flex-row gap-2",children:[(0,a.jsxs)(f.MP,{onClick:l,children:[(0,a.jsx)(b.Ao2,{className:"icon-sm"}),(0,a.jsx)(k.Z,(0,t._)({},Z.backToChat))]}),(0,a.jsx)(f.H,{})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-2 py-2",children:[(0,a.jsxs)("div",{className:"my-2 flex flex-col gap-2 px-2",children:[(0,a.jsx)(s.B0,{size:"large"}),(0,a.jsx)("h2",{className:"text-lg text-token-text-primary dark:text-white",children:n})]}),(0,a.jsxs)(y,{route:"/admin",children:[(0,a.jsx)(g.Z,{className:"icon-sm"}),(0,a.jsx)(k.Z,(0,t._)({},Z.membersPageTitle))]}),r&&(0,a.jsxs)(y,{route:"/admin/analytics",children:[(0,a.jsx)(b.orK,{className:"icon-sm"}),(0,a.jsx)(k.Z,(0,t._)({},Z.analytics))]}),i&&(0,a.jsxs)(y,{route:"/admin/billing",children:[(0,a.jsx)(b.XiQ,{className:"icon-sm"}),(0,a.jsx)(k.Z,(0,t._)({},Z.billing))]}),i&&(0,a.jsxs)(y,{route:"/admin/settings",children:[(0,a.jsx)(b.nbt,{className:"icon-sm"}),(0,a.jsx)(k.Z,(0,t._)({},Z.settings))]}),i&&(0,a.jsxs)(y,{route:"/admin/identity",children:[(0,a.jsx)(h.Z,{className:"icon-sm"}),(0,a.jsx)(k.Z,(0,t._)({},Z.identity))]})]})]})}function C(e){var n=e.mobilePageTitle,r=e.requireAdminPrivileges,i=void 0!==r&&r,s=e.children,c=(0,m.ec)(function(e){return e.currentWorkspace}),f=(0,m.$T)(),g=(0,o.Ix)(c),h=(0,v.useRouter)(),x=null!=c?(0,l.$v)(c.role):void 0,b=null!=c?(0,l.Di)(c.role):void 0;return(0,p.useEffect)(function(){i&&!1===x&&h.push("/admin")},[i,x,h]),(0,a.jsx)(d.Z,{showNavigation:!0,renderTitle:n,renderSidebar:(0,a.jsx)(w,{workspaceName:f?"":g,hasAdminPrivileges:x,hasOwnerPrivileges:b}),children:(0,a.jsxs)(M,{children:[f&&(0,a.jsx)("div",{className:"flex min-h-screen items-center justify-center",children:(0,a.jsx)(u.Z,{})}),!f&&!c&&(0,a.jsx)("div",{className:"flex min-h-screen items-center justify-center",children:(0,a.jsx)(k.Z,(0,t._)({},Z.workspaceNotFound))}),!f&&c&&s]})})}var M=r(21389).Z.div(N()),Z=(0,j.vU)({workspaceNotFound:{id:"adminPage.workspaceNotFound",defaultMessage:"Workspace not found",description:"The title of the admin page."},backToChat:{id:"adminPage.backToChat",defaultMessage:"Back to chat",description:"Navigation button to return to main chat page"},membersPageTitle:{id:"adminPage.membersPageTitle",defaultMessage:"Members",description:"The title of the members page"},analytics:{id:"adminPage.analytics",defaultMessage:"Analytics",description:"Analytics sidebar item"},billing:{id:"adminPage.billing",defaultMessage:"Billing Info",description:"Billing sidebar item"},settings:{id:"adminPage.Settings",defaultMessage:"Settings",description:"Settings sidebar item"},identity:{id:"adminPage.identity",defaultMessage:"Identity & Provisioning",description:"Identity sidebar item"}})},50744:function(e,n,r){var t=r(35250),i=r(55344),a=r.n(i);r(70079);var s=function(e){var n=e.children;return(0,t.jsx)(t.Fragment,{children:n})};n.Z=a()(function(){return Promise.resolve(s)},{ssr:!1})},82277:function(e,n,r){r.d(n,{Z:function(){return c}});var t=r(35250),i=r(70079),a=r(46020),s=r(33669),o=r(50744),l=r(13090);function c(e){var n=e.children,r=e.showNavigation,u=e.renderTitle,d=e.renderMobileHeaderRightContent,f=e.renderSidebar,m=(0,s.w$)(),g=[],h=null;return i.Children.forEach(n,function(e){i.isValidElement(e)&&(e.type===c.Sidebars?h=e:g.push(e))}),(0,t.jsxs)("div",{className:"relative z-0 flex h-full w-full overflow-hidden",children:[m&&r&&null!=f?(0,t.jsx)(o.Z,{children:f}):null,(0,t.jsxs)("div",{className:"relative flex h-full max-w-full flex-1 flex-col overflow-hidden",children:[!m&&r&&(0,t.jsx)(o.Z,{children:(0,t.jsx)(l.Vs,{onClickOpenSidebar:function(){return a.vm.toggleActiveSidebar("mobile-nav")},renderTitle:u,renderSidebar:f,renderRightContent:d})}),(0,t.jsx)("main",{className:"relative h-full w-full flex-1 overflow-auto transition-width",children:g})]}),h]})}c.Sidebars=function(e){var n=e.children;return(0,t.jsx)(t.Fragment,{children:n})}},13090:function(e,n,r){r.d(n,{H:function(){return M},MP:function(){return w},Vs:function(){return P},js:function(){return C},l6:function(){return S}});var t=r(39324),i=r(70216),a=r(35250),s=r(98359),o=r(20525),l=r(32148),c=r(19841),u=r(97296),d=r(70737),f=r(60554),m=r(70079),g=r(1454),h=r(70671),x=r(32004),v=r(94968),p=r(46020),b=r(33669),k=r(42271),j=r(45635),N=r(20522),y=r(15329);function w(e){var n=e.onClick,r=e.className,s=(0,i._)(e,["onClick","className"]);return(0,a.jsx)(y.zV,(0,t._)({onClick:n,className:(0,c.default)(r,"flex-grow overflow-hidden")},s))}function C(e){var n=e.onClick,r=(0,i._)(e,["onClick"]);return(0,a.jsx)("button",(0,t._)({type:"button",className:"px-3",onClick:n},r))}function M(){var e=(0,h.Z)();return(0,b.w$)()?(0,a.jsx)(j.u,{side:"right",label:e.formatMessage(_.closeSidebar),children:(0,a.jsxs)(y.zV,{onClick:p.vm.toggleDesktopNavCollapsed,className:"w-11 flex-shrink-0 items-center justify-center bg-white dark:bg-transparent",children:[(0,a.jsx)(g.iYc,{className:"icon-sm"}),(0,a.jsx)(l.f,{children:(0,a.jsx)(x.Z,(0,t._)({},_.closeSidebar))})]})}):null}var Z=function(e){var n=e.onClose,r=e.sidebarOpen,i=e.children;return(0,a.jsx)(s.u.Root,{show:r,as:m.Fragment,children:(0,a.jsxs)(o.V,{as:"div",className:"dark relative",onClose:n,children:[(0,a.jsx)(s.u.Child,{as:m.Fragment,enter:"transition-opacity ease-linear duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"transition-opacity ease-linear duration-300",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,a.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75"})}),(0,a.jsxs)("div",{className:"fixed inset-0 flex",children:[(0,a.jsx)(s.u.Child,{as:m.Fragment,enter:"transition ease-in-out duration-300 transform",enterFrom:"-translate-x-full",enterTo:"translate-x-0",leave:"transition ease-in-out duration-300 transform",leaveFrom:"translate-x-0",leaveTo:"-translate-x-full",children:(0,a.jsxs)(o.V.Panel,{className:"relative flex w-full max-w-[260px] flex-1 flex-col bg-gray-900 gizmo:bg-gray-800",children:[(0,a.jsx)(s.u.Child,{as:m.Fragment,enter:"ease-in-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in-out duration-300",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,a.jsx)("div",{className:"absolute right-0 top-0 -mr-12 pt-2",children:(0,a.jsxs)("button",{type:"button",className:"ml-1 flex h-10 w-10 items-center justify-center focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white",onClick:n,children:[(0,a.jsx)("span",{className:"sr-only",children:(0,a.jsx)(x.Z,(0,t._)({},_.closeSidebar))}),(0,a.jsx)(g.q5L,{className:"icon-lg text-white","aria-hidden":"true"})]})})}),i]})}),(0,a.jsx)("div",{className:"w-14 flex-shrink-0"})]})]})})},P=function(e){var n=e.onClickOpenSidebar,r=e.renderTitle,i=e.renderSidebar,s=e.renderRightContent,o=(0,p.tN)(function(e){return e.activeSidebar}),l=(0,f.useRouter)().asPath;return(0,m.useEffect)(function(){"mobile-nav"===o&&p.vm.setActiveSidebar(!1)},[l]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"sticky top-0 z-10 flex items-center border-b border-white/20 bg-gray-800 pl-1 pt-1 text-gray-200 sm:pl-3 md:hidden",children:[(0,a.jsxs)("button",{type:"button",className:"-ml-0.5 -mt-0.5 inline-flex h-10 w-10 items-center justify-center rounded-md hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white dark:hover:text-white",onClick:n,children:[(0,a.jsx)("span",{className:"sr-only",children:(0,a.jsx)(x.Z,(0,t._)({},_.openSidebar))}),(0,a.jsx)(g.cur,{"aria-hidden":"true",className:"icon-lg"})]}),(0,a.jsx)("h1",{className:"flex-1 text-center text-base font-normal",children:r}),s]}),(0,a.jsx)(Z,{onClose:function(){p.vm.setActiveSidebar(!1)},sidebarOpen:"mobile-nav"===o,children:i})]})};function S(e){var n=e.children,r=(0,h.Z)(),t=(0,m.useRef)(null),i=(0,p.tN)(function(e){return e.isDesktopNavCollapsed}),s=(0,N.Ml)(),o=(0,N.bU)(function(e){return e.displayVariant});return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(u.E.div,{className:(0,c.default)("h-full flex-shrink-0 overflow-x-hidden",s?"border-r border-gray-100 bg-gray-50 gizmo:bg-white dark:border-0 dark:bg-gray-800 gizmo:dark:border-r gizmo:dark:border-token-border-light":"dark bg-gray-900"),ref:t,initial:!1,animate:{width:i?0:"260px",transition:{duration:.165,ease:"easeOut"}},onAnimationStart:function(){t.current&&(t.current.style.visibility="visible")},onAnimationComplete:function(){t.current&&i&&(t.current.style.visibility="hidden")},children:(0,a.jsx)("div",{className:"h-full w-[260px]",children:(0,a.jsx)("div",{className:"flex h-full min-h-0 flex-col ",children:n})})}),(0,a.jsx)(d.M,{initial:!1,children:i&&(0,a.jsx)(u.E.div,{className:(0,c.default)("absolute z-40 hidden md:inline-block",s&&o!==N.Mo.SidebarList?"bottom-1 left-1":"left-2 top-2"),initial:{opacity:0},animate:{opacity:1,transition:{duration:.165,ease:"easeIn"}},children:(0,a.jsx)(j.u,{side:"right",label:r.formatMessage(_.openSidebar),children:(0,a.jsx)(k.O,{onClick:p.vm.toggleDesktopNavCollapsed,"aria-label":r.formatMessage(_.openSidebar),children:(0,a.jsx)(g.iYc,{className:"icon-sm text-token-text-primary gizmo:text-token-text-tertiary gizmo:hover:text-token-text-secondary"})})})})})]})}var _=(0,v.vU)({closeSidebar:{id:"navigation.closeSidebar",defaultMessage:"Close sidebar",description:"Close sidebar button label"},openSidebar:{id:"navigation.openSidebar",defaultMessage:"Open sidebar",description:"Open sidebar button label"}})},52696:function(e,n,r){r.d(n,{$3:function(){return f},Ap:function(){return c},CV:function(){return m},GA:function(){return d},Gk:function(){return v},Ix:function(){return h},_O:function(){return x},bE:function(){return p},cI:function(){return g},qH:function(){return u}});var t=r(96237),i=r(75641),a=r(78931),s=r(62509),o=r(70079),l=r(70671);function c(){var e=(0,l.Z)(),n=e.formatMessage(b.adminRoleName),r=e.formatMessage(b.ownerRoleName),a=e.formatMessage(b.standardRoleName);return(0,o.useMemo)(function(){var e;return e={},(0,t._)(e,i.r3.OWNER,r),(0,t._)(e,i.r3.ADMIN,n),(0,t._)(e,i.r3.STANDARD,a),e},[r,n,a])}function u(e){var n=(0,l.Z)();return e?e.structure===i.CZ.PERSONAL?n.formatMessage(b.personalPlanName):n.formatMessage(b.enterprisePlanName):n.formatMessage(b.personalPlanName)}function d(e){return m((0,l.Z)(),e)}function f(){var e=(0,a.ec)(function(e){return e.currentWorkspace});return m((0,l.Z)(),e)}function m(e,n){var r;return n&&n.structure!==i.CZ.PERSONAL?null!==(r=n.name)&&void 0!==r?r:e.formatMessage(b.defaultWorkspaceTitle):e.formatMessage(b.personalWorkspaceTitle)}function g(){var e,n,r,t,i=(0,s.kP)().session;return null!==(t=null!==(r=null==i?void 0:null===(e=i.user)||void 0===e?void 0:e.name)&&void 0!==r?r:null==i?void 0:null===(n=i.user)||void 0===n?void 0:n.email)&&void 0!==t?t:null}function h(e){var n=(0,a.ec)(function(e){return e.currentWorkspace}),r=(0,a.ec)(a.F_.isPersonalWorkspace),t=(0,a.$T)(),s=d(n),o=g();return e&&!t?e.structure===i.CZ.PERSONAL?o:e.name:n?r?o:s:o}function x(){return(0,a.ec)(function(e){return e.workspaces})}function v(e){var n=x().find(function(n){return n.id===e});return(null==n?void 0:n.role)===i.r3.OWNER}function p(e){var n=x().find(function(n){return n.id===e});return(null==n?void 0:n.role)===i.r3.ADMIN}var b=(0,r(94968).vU)({defaultWorkspaceTitle:{id:"useWorkspaces.defaultWorkspaceTitle",defaultMessage:"Untitled Workspace",description:"title for workspace without a name"},personalWorkspaceTitle:{id:"useWorkspaces.personalWorkspaceTitle",defaultMessage:"Personal account",description:"title for personal workspace"},personalPlanName:{id:"useWorkspaces.personalPlanName",defaultMessage:"Personal",description:"label for personal tier account"},enterprisePlanName:{id:"useWorkspaces.enterprisePlanName",defaultMessage:"Enterprise",description:"label for enterprise tier account"},adminRoleName:{id:"useWorkspaces.adminRoleName",defaultMessage:"Admin",description:"Role name for an admin user"},ownerRoleName:{id:"useWorkspaces.ownerRoleName",defaultMessage:"Owner",description:"Role name for an owner user"},standardRoleName:{id:"useWorkspacews.standardRoleName",defaultMessage:"Member",description:"Role name for a standard user"}})},42271:function(e,n,r){r.d(n,{O:function(){return o},h:function(){return l}});var t=r(4337),i=r(21389);function a(){var e=(0,t._)(["flex p-3 items-center gap-3 transition-colors duration-200 text-gray-600 dark:text-gray-200 cursor-pointer text-sm rounded-md bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 h-11"]);return a=function(){return e},e}function s(){var e=(0,t._)(["h-11 w-11"]);return s=function(){return e},e}var o=i.Z.button(a()),l=i.Z.div(s())},15329:function(e,n,r){r.d(n,{R:function(){return x},Vq:function(){return v},ZB:function(){return g},ZP:function(){return m},zV:function(){return h}});var t=r(4337),i=r(35250),a=r(7813),s=r(19841),o=r(21389);function l(){var e=(0,t._)(["p-2 rounded-md hover:bg-black/10 hover:dark:bg-white/10 cursor-pointer"]);return l=function(){return e},e}function c(){var e=(0,t._)(["flex px-3 min-h-[44px] py-1 items-center gap-3 transition-colors duration-200 dark:text-white cursor-pointer text-sm"]);return c=function(){return e},e}function u(){var e=(0,t._)(["rounded-md border dark:border-white/20 gizmo:min-h-0 hover:bg-gray-500/10 h-11 gizmo:h-10 gizmo:rounded-lg gizmo:border-[rgba(0,0,0,0.1)]"]);return u=function(){return e},e}function d(){var e=(0,t._)(["my-1.5 h-px dark:bg-white/20 bg-black/20"]);return d=function(){return e},e}function f(){var e=(0,t._)(["",""]);return f=function(){return e},e}function m(e){var n=e.onClick,r=e.href,t=e.target,o=e.children;return(0,i.jsx)(a.v.Item,{children:function(e){var a=e.active;return(0,i.jsx)(g,{as:void 0!==r?"a":"button",onClick:n,href:r,target:t,className:(0,s.default)(a?"bg-gray-100 dark:bg-gray-800":"hover:bg-gray-100 dark:hover:bg-gray-800"),children:o})}})}o.Z.a(l());var g=o.Z.a(c()),h=(0,o.Z)(g)(u()),x=o.Z.div(d()),v=(0,o.Z)(g)(f(),function(e){return e.$active?"bg-gray-100 dark:bg-gray-800":"hover:bg-gray-100 dark:hover:bg-gray-800"})}}]);